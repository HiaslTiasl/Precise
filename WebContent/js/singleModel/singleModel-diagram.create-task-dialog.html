<div class="modal-header">
	<h3 class="modal-title">New Task</h3>
</div>
<div class="modal-body">
	<div class="form-horizontal">
		<div class="form-group">
			<label for="phase" class="col-sm-4 control-label">Phase</label>
			<div class="col-sm-8">
				<select
					id="phase"
					class="form-control"
					ng-model="$ctrl.phase"
					ng-options="phase as phase.name for phase in $ctrl.phases"
					ng-change="$ctrl.phaseChanged()">
					<option value="">-- Select a Phase --</option>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label for="type" class="col-sm-4 control-label">Task</label>
			<div class="col-sm-8">
				<select
					id="type"
					class="form-control"
					ng-model="$ctrl.resource.data.type"
					ng-options="type as type.name for type in $ctrl.taskTypes"
					ng-disabled="!$ctrl.taskTypes">
					<option value="">-- Select a Task --</option>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label for="craft" class="col-sm-4 control-label">Craft</label>
			<div class="col-sm-8">
				<p id="craft" class="form-control-static">{{$ctrl.resource.data.type | withShortName:'craft':'craftShort'}}</p>
			</div>
		</div>
		<div class="form-group">
			<label for="workers" class="col-sm-4 control-label">Workers needed</label>
			<div class="col-sm-8">
				<input id="workers"
					type="number"
					class="form-control"
					ng-model="$ctrl.resource.data.numberOfWorkersNeeded"/>
			</div>
		</div>
		<div class="form-group">
			<label for="units" class="col-sm-4 control-label">Units/day</label>
			<div class="col-sm-8">
				<input id="units"
					type="number"
					step="0.01"
					class="form-control"
					ng-model="$ctrl.resource.data.numberOfUnitsPerDay"/>
			</div>
		</div>
		<fieldset ng-disabled="!$ctrl.phase">
			<div class="form-group">
				<label for="workers" class="col-sm-4 control-label">Exclusiveness</label>
				<div class="col-sm-8">
					<div class="checkbox">
						<label>
							<input type="checkbox" ng-model="$ctrl.resource.data.globalExclusiveness" ng-change="$ctrl.resource.updateExlusiveness()"> Global
						</label>
					</div>
					<a href
						editable-select="$ctrl.resource.data.exclusiveness"
						e-multiple
						e-ng-options="attr as attr.name for attr in $ctrl.phase.attributes"
						onaftersave="$ctrl.resource.updateGlobalExclusiveness()"
						ng-disabled="$ctrl.resource.data.globalExclusiveness">
						{{ $ctrl.resource.showExclusiveness() || '(no attributes)' }}
					</a>
				</div>
			</div>
		</fieldset>
	</div>
</div>
<div class="modal-footer">
	<button class="btn btn-primary" type="button" ng-click="$ctrl.createTask()" ng-disabled="!$ctrl.resource.data.type">Create</button>
	<button class="btn btn-cancel" type="button" ng-click="$ctrl.cancel()">Cancel</button>
</div>